/*! For license information please see main.95e8c2d62e05a6f64560.js.LICENSE.txt */
(()=>{"use strict";var t={91:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.makeNoise2D=void 0;var n=s(341),i=(Math.sqrt(3)-1)/2,r=(1/Math.sqrt(3)-1)/2;function o(t,e,s){return{dx:-e-t*i,dy:-s-t*i,xsb:e,ysb:s}}e.makeNoise2D=function(t){for(var e=[],s=0;s<c.length;s+=4){for(var u=a[c[s]],d=null,p=null,f=0;f<u.length;f+=3)p=o(u[f],u[f+1],u[f+2]),null===d?e[s/4]=p:d.next=p,d=p;p.next=o(c[s+1],c[s+2],c[s+3])}var m=[];for(s=0;s<l.length;s+=2)m[l[s]]=e[l[s+1]];var g=new Uint8Array(256),v=new Uint8Array(256),x=new Uint8Array(256);for(s=0;s<256;s++)x[s]=s;var y=new Uint32Array(1);for(y[0]=t,y=n.default(n.default(n.default(y))),s=255;s>=0;s--){y=n.default(y);var w=new Uint32Array(1);w[0]=(y[0]+31)%(s+1),w[0]<0&&(w[0]+=s+1),g[s]=x[w[0]],v[s]=14&g[s],x[w[0]]=x[s]}return function(t,e){for(var s=(t+e)*r,n=t+s,o=e+s,a=Math.floor(n),l=Math.floor(o),c=(a+l)*i,u=t-(a+c),d=e-(l+c),p=n-a,f=o-l,x=p+f,y=0,w=m[p-f+1|x<<1|x+f<<2|x+p<<4];void 0!==w;w=w.next){var P=u+w.dx,b=d+w.dy,_=2-P*P-b*b;if(_>0){var E=a+w.xsb,C=l+w.ysb,M=g[255&E],z=v[M+C&255];y+=_*_*_*_*(h[z]*P+h[z+1]*b)}}return.02127659574468085*y}};var a=[[1,1,0,1,0,1,0,0,0],[1,1,0,1,0,1,2,1,1]],h=[5,2,2,5,-5,2,-2,5,5,-2,2,-5,-5,-2,-2,-5],l=[0,1,1,0,4,1,17,0,20,2,21,2,22,5,23,5,26,4,39,3,42,4,43,3],c=[0,0,1,-1,0,0,-1,1,0,2,1,1,1,2,2,0,1,2,0,2,1,0,0,0]},644:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.makeNoise3D=void 0;var n=s(341),i=(Math.sqrt(4)-1)/3,r=(1/Math.sqrt(4)-1)/3;function o(t,e,s,n){return{dx:-e-t*i,dy:-s-t*i,dz:-n-t*i,xsb:e,ysb:s,zsb:n}}e.makeNoise3D=function(t){for(var e=[],s=0;s<c.length;s+=9){for(var u=a[c[s]],d=null,p=null,f=0;f<u.length;f+=4)p=o(u[f],u[f+1],u[f+2],u[f+3]),null===d?e[s/9]=p:d.next=p,d=p;p.next=o(c[s+1],c[s+2],c[s+3],c[s+4]),p.next.next=o(c[s+5],c[s+6],c[s+7],c[s+8])}var m=[];for(s=0;s<l.length;s+=2)m[l[s]]=e[l[s+1]];var g=new Uint8Array(256),v=new Uint8Array(256),x=new Uint8Array(256);for(s=0;s<256;s++)x[s]=s;var y=new Uint32Array(1);for(y[0]=t,y=n.default(n.default(n.default(y))),s=255;s>=0;s--){y=n.default(y);var w=new Uint32Array(1);w[0]=(y[0]+31)%(s+1),w[0]<0&&(w[0]+=s+1),g[s]=x[w[0]],v[s]=g[s]%24*3,x[w[0]]=x[s]}return function(t,e,s){for(var n=(t+e+s)*r,o=t+n,a=e+n,l=s+n,c=Math.floor(o),u=Math.floor(a),d=Math.floor(l),p=(c+u+d)*i,f=t-(c+p),x=e-(u+p),y=s-(d+p),w=o-c,P=a-u,b=l-d,_=w+P+b,E=0,C=m[P-b+1|w-P+1<<1|w-b+1<<2|_<<3|_+b<<5|_+P<<7|_+w<<9];void 0!==C;C=C.next){var M=f+C.dx,z=x+C.dy,k=y+C.dz,L=2-M*M-z*z-k*k;if(L>0){var S=c+C.xsb,I=u+C.ysb,R=d+C.zsb,O=g[255&S],A=g[O+I&255],F=v[A+R&255];E+=L*L*L*L*(h[F]*M+h[F+1]*z+h[F+2]*k)}}return.009708737864077669*E}};var a=[[0,0,0,0,1,1,0,0,1,0,1,0,1,0,0,1],[2,1,1,0,2,1,0,1,2,0,1,1,3,1,1,1],[1,1,0,0,1,0,1,0,1,0,0,1,2,1,1,0,2,1,0,1,2,0,1,1]],h=[-11,4,4,-4,11,4,-4,4,11,11,4,4,4,11,4,4,4,11,-11,-4,4,-4,-11,4,-4,-4,11,11,-4,4,4,-11,4,4,-4,11,-11,4,-4,-4,11,-4,-4,4,-11,11,4,-4,4,11,-4,4,4,-11,-11,-4,-4,-4,-11,-4,-4,-4,-11,11,-4,-4,4,-11,-4,4,-4,-11],l=[0,2,1,1,2,2,5,1,6,0,7,0,32,2,34,2,129,1,133,1,160,5,161,5,518,0,519,0,546,4,550,4,645,3,647,3,672,5,673,5,674,4,677,3,678,4,679,3,680,13,681,13,682,12,685,14,686,12,687,14,712,20,714,18,809,21,813,23,840,20,841,21,1198,19,1199,22,1226,18,1230,19,1325,23,1327,22,1352,15,1353,17,1354,15,1357,17,1358,16,1359,16,1360,11,1361,10,1362,11,1365,10,1366,9,1367,9,1392,11,1394,11,1489,10,1493,10,1520,8,1521,8,1878,9,1879,9,1906,7,1910,7,2005,6,2007,6,2032,8,2033,8,2034,7,2037,6,2038,7,2039,6],c=[0,0,1,-1,0,0,1,0,-1,0,0,-1,1,0,0,0,1,-1,0,0,-1,0,1,0,0,-1,1,0,2,1,1,0,1,1,1,-1,0,2,1,0,1,1,1,-1,1,0,2,0,1,1,1,-1,1,1,1,3,2,1,0,3,1,2,0,1,3,2,0,1,3,1,0,2,1,3,0,2,1,3,0,1,2,1,1,1,0,0,2,2,0,0,1,1,0,1,0,2,0,2,0,1,1,0,0,1,2,0,0,2,2,0,0,0,0,1,1,-1,1,2,0,0,0,0,1,-1,1,1,2,0,0,0,0,1,1,1,-1,2,3,1,1,1,2,0,0,2,2,3,1,1,1,2,2,0,0,2,3,1,1,1,2,0,2,0,2,1,1,-1,1,2,0,0,2,2,1,1,-1,1,2,2,0,0,2,1,-1,1,1,2,0,0,2,2,1,-1,1,1,2,0,2,0,2,1,1,1,-1,2,2,0,0,2,1,1,1,-1,2,0,2,0]},76:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.makeNoise4D=void 0;var n=s(341),i=(Math.sqrt(5)-1)/4,r=(1/Math.sqrt(5)-1)/4;function o(t,e,s,n,r){return{dx:-e-t*i,dy:-s-t*i,dz:-n-t*i,dw:-r-t*i,xsb:e,ysb:s,zsb:n,wsb:r}}e.makeNoise4D=function(t){for(var e=[],s=0;s<c.length;s+=16){for(var u=a[c[s]],d=null,p=null,f=0;f<u.length;f+=5)p=o(u[f],u[f+1],u[f+2],u[f+3],u[f+4]),null===d?e[s/16]=p:d.next=p,d=p;p.next=o(c[s+1],c[s+2],c[s+3],c[s+4],c[s+5]),p.next.next=o(c[s+6],c[s+7],c[s+8],c[s+9],c[s+10]),p.next.next.next=o(c[s+11],c[s+12],c[s+13],c[s+14],c[s+15])}var m=[];for(s=0;s<l.length;s+=2)m[l[s]]=e[l[s+1]];var g=new Uint8Array(256),v=new Uint8Array(256),x=new Uint8Array(256);for(s=0;s<256;s++)x[s]=s;var y=new Uint32Array(1);for(y[0]=t,y=n.default(n.default(n.default(y))),s=255;s>=0;s--){y=n.default(y);var w=new Uint32Array(1);w[0]=(y[0]+31)%(s+1),w[0]<0&&(w[0]+=s+1),g[s]=x[w[0]],v[s]=252&g[s],x[w[0]]=x[s]}return function(t,e,s,n){for(var o=(t+e+s+n)*r,a=t+o,l=e+o,c=s+o,u=n+o,d=Math.floor(a),p=Math.floor(l),f=Math.floor(c),x=Math.floor(u),y=(d+p+f+x)*i,w=t-(d+y),P=e-(p+y),b=s-(f+y),_=n-(x+y),E=a-d,C=l-p,M=c-f,z=u-x,k=E+C+M+z,L=0,S=m[M-z+1|C-M+1<<1|C-z+1<<2|E-C+1<<3|E-M+1<<4|E-z+1<<5|k<<6|k+z<<8|k+M<<11|k+C<<14|k+E<<17];void 0!==S;S=S.next){var I=w+S.dx,R=P+S.dy,O=b+S.dz,A=_+S.dw,F=2-I*I-R*R-O*O-A*A;if(F>0){var N=d+S.xsb,D=p+S.ysb,U=f+S.zsb,T=x+S.wsb,B=g[255&N],G=g[B+D&255],q=g[G+U&255],j=v[q+T&255];L+=F*F*F*F*(h[j]*I+h[j+1]*R+h[j+2]*O+h[j+3]*A)}}return.03333333333333333*L}};var a=[[0,0,0,0,0,1,1,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1],[3,1,1,1,0,3,1,1,0,1,3,1,0,1,1,3,0,1,1,1,4,1,1,1,1],[1,1,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1,2,1,1,0,0,2,1,0,1,0,2,1,0,0,1,2,0,1,1,0,2,0,1,0,1,2,0,0,1,1],[3,1,1,1,0,3,1,1,0,1,3,1,0,1,1,3,0,1,1,1,2,1,1,0,0,2,1,0,1,0,2,1,0,0,1,2,0,1,1,0,2,0,1,0,1,2,0,0,1,1]],h=[3,1,1,1,1,3,1,1,1,1,3,1,1,1,1,3,-3,1,1,1,-1,3,1,1,-1,1,3,1,-1,1,1,3,3,-1,1,1,1,-3,1,1,1,-1,3,1,1,-1,1,3,-3,-1,1,1,-1,-3,1,1,-1,-1,3,1,-1,-1,1,3,3,1,-1,1,1,3,-1,1,1,1,-3,1,1,1,-1,3,-3,1,-1,1,-1,3,-1,1,-1,1,-3,1,-1,1,-1,3,3,-1,-1,1,1,-3,-1,1,1,-1,-3,1,1,-1,-1,3,-3,-1,-1,1,-1,-3,-1,1,-1,-1,-3,1,-1,-1,-1,3,3,1,1,-1,1,3,1,-1,1,1,3,-1,1,1,1,-3,-3,1,1,-1,-1,3,1,-1,-1,1,3,-1,-1,1,1,-3,3,-1,1,-1,1,-3,1,-1,1,-1,3,-1,1,-1,1,-3,-3,-1,1,-1,-1,-3,1,-1,-1,-1,3,-1,-1,-1,1,-3,3,1,-1,-1,1,3,-1,-1,1,1,-3,-1,1,1,-1,-3,-3,1,-1,-1,-1,3,-1,-1,-1,1,-3,-1,-1,1,-1,-3,3,-1,-1,-1,1,-3,-1,-1,1,-1,-3,-1,1,-1,-1,-3,-3,-1,-1,-1,-1,-3,-1,-1,-1,-1,-3,-1,-1,-1,-1,-3],l=[0,3,1,2,2,3,5,2,6,1,7,1,8,3,9,2,10,3,13,2,16,3,18,3,22,1,23,1,24,3,26,3,33,2,37,2,38,1,39,1,41,2,45,2,54,1,55,1,56,0,57,0,58,0,59,0,60,0,61,0,62,0,63,0,256,3,258,3,264,3,266,3,272,3,274,3,280,3,282,3,2049,2,2053,2,2057,2,2061,2,2081,2,2085,2,2089,2,2093,2,2304,9,2305,9,2312,9,2313,9,16390,1,16391,1,16406,1,16407,1,16422,1,16423,1,16438,1,16439,1,16642,8,16646,8,16658,8,16662,8,18437,6,18439,6,18469,6,18471,6,18688,9,18689,9,18690,8,18693,6,18694,8,18695,6,18696,9,18697,9,18706,8,18710,8,18725,6,18727,6,131128,0,131129,0,131130,0,131131,0,131132,0,131133,0,131134,0,131135,0,131352,7,131354,7,131384,7,131386,7,133161,5,133165,5,133177,5,133181,5,133376,9,133377,9,133384,9,133385,9,133400,7,133402,7,133417,5,133421,5,133432,7,133433,5,133434,7,133437,5,147510,4,147511,4,147518,4,147519,4,147714,8,147718,8,147730,8,147734,8,147736,7,147738,7,147766,4,147767,4,147768,7,147770,7,147774,4,147775,4,149509,6,149511,6,149541,6,149543,6,149545,5,149549,5,149558,4,149559,4,149561,5,149565,5,149566,4,149567,4,149760,9,149761,9,149762,8,149765,6,149766,8,149767,6,149768,9,149769,9,149778,8,149782,8,149784,7,149786,7,149797,6,149799,6,149801,5,149805,5,149814,4,149815,4,149816,7,149817,5,149818,7,149821,5,149822,4,149823,4,149824,37,149825,37,149826,36,149829,34,149830,36,149831,34,149832,37,149833,37,149842,36,149846,36,149848,35,149850,35,149861,34,149863,34,149865,33,149869,33,149878,32,149879,32,149880,35,149881,33,149882,35,149885,33,149886,32,149887,32,150080,49,150082,48,150088,49,150098,48,150104,47,150106,47,151873,46,151877,45,151881,46,151909,45,151913,44,151917,44,152128,49,152129,46,152136,49,152137,46,166214,43,166215,42,166230,43,166247,42,166262,41,166263,41,166466,48,166470,43,166482,48,166486,43,168261,45,168263,42,168293,45,168295,42,168512,31,168513,28,168514,31,168517,28,168518,25,168519,25,280952,40,280953,39,280954,40,280957,39,280958,38,280959,38,281176,47,281178,47,281208,40,281210,40,282985,44,282989,44,283001,39,283005,39,283208,30,283209,27,283224,30,283241,27,283256,22,283257,22,297334,41,297335,41,297342,38,297343,38,297554,29,297558,24,297562,29,297590,24,297594,21,297598,21,299365,26,299367,23,299373,26,299383,23,299389,20,299391,20,299584,31,299585,28,299586,31,299589,28,299590,25,299591,25,299592,30,299593,27,299602,29,299606,24,299608,30,299610,29,299621,26,299623,23,299625,27,299629,26,299638,24,299639,23,299640,22,299641,22,299642,21,299645,20,299646,21,299647,20,299648,61,299649,60,299650,61,299653,60,299654,59,299655,59,299656,58,299657,57,299666,55,299670,54,299672,58,299674,55,299685,52,299687,51,299689,57,299693,52,299702,54,299703,51,299704,56,299705,56,299706,53,299709,50,299710,53,299711,50,299904,61,299906,61,299912,58,299922,55,299928,58,299930,55,301697,60,301701,60,301705,57,301733,52,301737,57,301741,52,301952,79,301953,79,301960,76,301961,76,316038,59,316039,59,316054,54,316071,51,316086,54,316087,51,316290,78,316294,78,316306,73,316310,73,318085,77,318087,77,318117,70,318119,70,318336,79,318337,79,318338,78,318341,77,318342,78,318343,77,430776,56,430777,56,430778,53,430781,50,430782,53,430783,50,431e3,75,431002,72,431032,75,431034,72,432809,74,432813,69,432825,74,432829,69,433032,76,433033,76,433048,75,433065,74,433080,75,433081,74,447158,71,447159,68,447166,71,447167,68,447378,73,447382,73,447386,72,447414,71,447418,72,447422,71,449189,70,449191,70,449197,69,449207,68,449213,69,449215,68,449408,67,449409,67,449410,66,449413,64,449414,66,449415,64,449416,67,449417,67,449426,66,449430,66,449432,65,449434,65,449445,64,449447,64,449449,63,449453,63,449462,62,449463,62,449464,65,449465,63,449466,65,449469,63,449470,62,449471,62,449472,19,449473,19,449474,18,449477,16,449478,18,449479,16,449480,19,449481,19,449490,18,449494,18,449496,17,449498,17,449509,16,449511,16,449513,15,449517,15,449526,14,449527,14,449528,17,449529,15,449530,17,449533,15,449534,14,449535,14,449728,19,449729,19,449730,18,449734,18,449736,19,449737,19,449746,18,449750,18,449752,17,449754,17,449784,17,449786,17,451520,19,451521,19,451525,16,451527,16,451528,19,451529,19,451557,16,451559,16,451561,15,451565,15,451577,15,451581,15,451776,19,451777,19,451784,19,451785,19,465858,18,465861,16,465862,18,465863,16,465874,18,465878,18,465893,16,465895,16,465910,14,465911,14,465918,14,465919,14,466114,18,466118,18,466130,18,466134,18,467909,16,467911,16,467941,16,467943,16,468160,13,468161,13,468162,13,468163,13,468164,13,468165,13,468166,13,468167,13,580568,17,580570,17,580585,15,580589,15,580598,14,580599,14,580600,17,580601,15,580602,17,580605,15,580606,14,580607,14,580824,17,580826,17,580856,17,580858,17,582633,15,582637,15,582649,15,582653,15,582856,12,582857,12,582872,12,582873,12,582888,12,582889,12,582904,12,582905,12,596982,14,596983,14,596990,14,596991,14,597202,11,597206,11,597210,11,597214,11,597234,11,597238,11,597242,11,597246,11,599013,10,599015,10,599021,10,599023,10,599029,10,599031,10,599037,10,599039,10,599232,13,599233,13,599234,13,599235,13,599236,13,599237,13,599238,13,599239,13,599240,12,599241,12,599250,11,599254,11,599256,12,599257,12,599258,11,599262,11,599269,10,599271,10,599272,12,599273,12,599277,10,599279,10,599282,11,599285,10,599286,11,599287,10,599288,12,599289,12,599290,11,599293,10,599294,11,599295,10],c=[0,0,1,-1,0,0,0,1,0,-1,0,0,1,0,0,-1,0,0,-1,1,0,0,0,0,1,-1,0,0,0,1,0,-1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,-1,0,0,-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,2,1,1,0,0,1,1,1,-1,0,1,1,1,0,-1,0,2,1,0,1,0,1,1,-1,1,0,1,1,0,1,-1,0,2,0,1,1,0,1,-1,1,1,0,1,0,1,1,-1,0,2,1,0,0,1,1,1,-1,0,1,1,1,0,-1,1,0,2,0,1,0,1,1,-1,1,0,1,1,0,1,-1,1,0,2,0,0,1,1,1,-1,0,1,1,1,0,-1,1,1,1,4,2,1,1,0,4,1,2,1,0,4,1,1,2,0,1,4,2,1,0,1,4,1,2,0,1,4,1,1,0,2,1,4,2,0,1,1,4,1,0,2,1,4,1,0,1,2,1,4,0,2,1,1,4,0,1,2,1,4,0,1,1,2,1,2,1,1,0,0,3,2,1,0,0,3,1,2,0,0,1,2,1,0,1,0,3,2,0,1,0,3,1,0,2,0,1,2,0,1,1,0,3,0,2,1,0,3,0,1,2,0,1,2,1,0,0,1,3,2,0,0,1,3,1,0,0,2,1,2,0,1,0,1,3,0,2,0,1,3,0,1,0,2,1,2,0,0,1,1,3,0,0,2,1,3,0,0,1,2,2,3,1,1,1,0,2,1,1,1,-1,2,2,0,0,0,2,3,1,1,0,1,2,1,1,-1,1,2,2,0,0,0,2,3,1,0,1,1,2,1,-1,1,1,2,2,0,0,0,2,3,1,1,1,0,2,1,1,1,-1,2,0,2,0,0,2,3,1,1,0,1,2,1,1,-1,1,2,0,2,0,0,2,3,0,1,1,1,2,-1,1,1,1,2,0,2,0,0,2,3,1,1,1,0,2,1,1,1,-1,2,0,0,2,0,2,3,1,0,1,1,2,1,-1,1,1,2,0,0,2,0,2,3,0,1,1,1,2,-1,1,1,1,2,0,0,2,0,2,3,1,1,0,1,2,1,1,-1,1,2,0,0,0,2,2,3,1,0,1,1,2,1,-1,1,1,2,0,0,0,2,2,3,0,1,1,1,2,-1,1,1,1,2,0,0,0,2,2,1,1,1,-1,0,1,1,1,0,-1,0,0,0,0,0,2,1,1,-1,1,0,1,1,0,1,-1,0,0,0,0,0,2,1,-1,1,1,0,1,0,1,1,-1,0,0,0,0,0,2,1,1,-1,0,1,1,1,0,-1,1,0,0,0,0,0,2,1,-1,1,0,1,1,0,1,-1,1,0,0,0,0,0,2,1,-1,0,1,1,1,0,-1,1,1,0,0,0,0,0,2,1,1,1,-1,0,1,1,1,0,-1,2,2,0,0,0,2,1,1,-1,1,0,1,1,0,1,-1,2,2,0,0,0,2,1,1,-1,0,1,1,1,0,-1,1,2,2,0,0,0,2,1,1,1,-1,0,1,1,1,0,-1,2,0,2,0,0,2,1,-1,1,1,0,1,0,1,1,-1,2,0,2,0,0,2,1,-1,1,0,1,1,0,1,-1,1,2,0,2,0,0,2,1,1,-1,1,0,1,1,0,1,-1,2,0,0,2,0,2,1,-1,1,1,0,1,0,1,1,-1,2,0,0,2,0,2,1,-1,0,1,1,1,0,-1,1,1,2,0,0,2,0,2,1,1,-1,0,1,1,1,0,-1,1,2,0,0,0,2,2,1,-1,1,0,1,1,0,1,-1,1,2,0,0,0,2,2,1,-1,0,1,1,1,0,-1,1,1,2,0,0,0,2,3,1,1,0,0,0,2,2,0,0,0,2,1,1,1,-1,3,1,0,1,0,0,2,0,2,0,0,2,1,1,1,-1,3,1,0,0,1,0,2,0,0,2,0,2,1,1,1,-1,3,1,1,0,0,0,2,2,0,0,0,2,1,1,-1,1,3,1,0,1,0,0,2,0,2,0,0,2,1,1,-1,1,3,1,0,0,0,1,2,0,0,0,2,2,1,1,-1,1,3,1,1,0,0,0,2,2,0,0,0,2,1,-1,1,1,3,1,0,0,1,0,2,0,0,2,0,2,1,-1,1,1,3,1,0,0,0,1,2,0,0,0,2,2,1,-1,1,1,3,1,0,1,0,0,2,0,2,0,0,2,-1,1,1,1,3,1,0,0,1,0,2,0,0,2,0,2,-1,1,1,1,3,1,0,0,0,1,2,0,0,0,2,2,-1,1,1,1,3,3,2,1,0,0,3,1,2,0,0,4,1,1,1,1,3,3,2,0,1,0,3,1,0,2,0,4,1,1,1,1,3,3,0,2,1,0,3,0,1,2,0,4,1,1,1,1,3,3,2,0,0,1,3,1,0,0,2,4,1,1,1,1,3,3,0,2,0,1,3,0,1,0,2,4,1,1,1,1,3,3,0,0,2,1,3,0,0,1,2,4,1,1,1,1,3,3,2,1,0,0,3,1,2,0,0,2,1,1,1,-1,3,3,2,0,1,0,3,1,0,2,0,2,1,1,1,-1,3,3,0,2,1,0,3,0,1,2,0,2,1,1,1,-1,3,3,2,1,0,0,3,1,2,0,0,2,1,1,-1,1,3,3,2,0,0,1,3,1,0,0,2,2,1,1,-1,1,3,3,0,2,0,1,3,0,1,0,2,2,1,1,-1,1,3,3,2,0,1,0,3,1,0,2,0,2,1,-1,1,1,3,3,2,0,0,1,3,1,0,0,2,2,1,-1,1,1,3,3,0,0,2,1,3,0,0,1,2,2,1,-1,1,1,3,3,0,2,1,0,3,0,1,2,0,2,-1,1,1,1,3,3,0,2,0,1,3,0,1,0,2,2,-1,1,1,1,3,3,0,0,2,1,3,0,0,1,2,2,-1,1,1,1]},816:(t,e,s)=>{e.DA=void 0;var n=s(91);Object.defineProperty(e,"DA",{enumerable:!0,get:function(){return n.makeNoise2D}});var i=s(644);var r=s(76)},341:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=new Uint32Array(1);return e[0]=1664525*t[0]+1013904223,e}}},e={};function s(n){var i=e[n];if(void 0!==i)return i.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,s),r.exports}(()=>{class t{constructor(t=1,e=1,s=1,n=1){this.r=t,this.g=e,this.b=s,this.a=n}pad(t){return 1==t.length?"0"+t:t}static fromRGBHex(e){const s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return s?new t(parseInt(s[1],16)/255,parseInt(s[2],16)/255,parseInt(s[3],16)/255):null}hexRGB(){const t=Number(Math.floor(255*this.r)).toString(16),e=Number(Math.floor(255*this.g)).toString(16),s=Number(Math.floor(255*this.b)).toString(16);return"#"+this.pad(t)+this.pad(e)+this.pad(s)}static hsl(e,s,n){const i=s*Math.min(n,1-n),r=(t,s=(t+e/30)%12)=>n-i*Math.max(Math.min(s-3,9-s,1),-1),o=r(0),a=r(8),h=r(4);return new t(o,a,h,1)}}t.Red=new t(1,0,0,1);class e{constructor(t=0,e=0){this.x=t,this.y=e}static up(){return new e(0,1)}copy(){return new e(this.x,this.y)}mult(t=1){return new e(this.x*t,this.y*t)}add(t=new e(0,0)){return new e(this.x+t.x,this.y+t.y)}sub(t=new e(0,0)){return new e(this.x-t.x,this.y-t.y)}len(){return Math.sqrt(this.x*this.x+this.y*this.y)}normalize(){return this.mult(1/this.len())}rotate(t=0){return new e(this.x*Math.cos(t)-this.y*Math.sin(t),this.x*Math.sin(t)+this.y*Math.cos(t))}}class n{constructor(t=[]){this.points=t}static Circle(t=10){const s=[];for(let n=0;n<t;n++)s.push(new e(0,-.5).rotate(n*(2*Math.PI/t)));return new n(s)}static Point(t){return new n([t.copy()])}static Line(t,e,s=0){const i=e.sub(t),r=[];for(let e=0;e<s;e++){const n=t.add(i.mult(e/s));r.push(n)}return n.of(r)}static of(t){return new n(t)}static Rect(){return new n([new e(-.5,-.5),new e(-.5,.5),new e(.5,.5),new e(.5,-.5)])}transform(t=1,s=new e(0,0),i=0){const r=[];for(let e=0;e<this.points.length;e++){const n=this.points[e].mult(t).rotate(i).add(s);r.push(n)}return new n(r)}}var i,r;!function(t){t[t.Closed=0]="Closed",t[t.Line=1]="Line",t[t.Point=2]="Point"}(i||(i={}));class o{constructor(e=t.Red,s=null,n=4,r=i.Closed){this.backgroundColor=e,this.strokeColor=s,this.strokeSize=n,this.drawMode=r}static Default(){return new o}static Line(){return new o(null,t.Red,.5,i.Line)}static Point(){return new o(t.Red,null,.5,i.Point)}}class a{constructor(t){this.canvasElem=t,this.ctx=this.canvasElem.getContext("2d")}render(t){this.canvasElem.width=t.size.x,this.canvasElem.height=t.size.y;const e=this.ctx;if(e){if(window.devicePixelRatio>1){const s=t.size.x,n=t.size.y;this.canvasElem.width=s*window.devicePixelRatio,this.canvasElem.height=n*window.devicePixelRatio,this.canvasElem.style.width=s+"px",this.canvasElem.style.height=n+"px",e.scale(window.devicePixelRatio,window.devicePixelRatio)}e.clearRect(0,0,this.canvasElem.width,this.canvasElem.height),e.rect(0,0,this.canvasElem.width,this.canvasElem.height),e.fillStyle=t.background.hexRGB(),e.fill(),t.layers.forEach((t=>{t.generate().forEach((t=>{t.draw(this)}))}))}}draw(t,e){const s=this.ctx;s&&(e.backgroundColor&&(s.beginPath(),this.drawPoints(s,t.points,e.drawMode),s.fillStyle=e.backgroundColor.hexRGB(),s.fill()),e.strokeColor&&e.drawMode!=i.Point&&(s.beginPath(),this.drawPoints(s,t.points,e.drawMode),s.lineWidth=e.strokeSize,s.strokeStyle=e.strokeColor.hexRGB(),s.stroke()))}drawPoints(t,e,s){if(!(e.length<1)){if(s==i.Point)for(let s=0;s<e.length;s++)t.fillRect(e[s].x,e[s].y,1,1);t.moveTo(e[0].x,e[0].y);for(let s=0;s<e.length;s++)t.lineTo(e[s].x,e[s].y);s==i.Closed&&t.lineTo(e[0].x,e[0].y)}}}class h{constructor(t=n.Point(new e),s=o.Default()){this.polygon=t,this.style=s}draw(t){t.draw(this.polygon,this.style)}}class l{}!function(t){t[t.String=0]="String",t[t.Integer=1]="Integer",t[t.Float=2]="Float",t[t.Point=3]="Point"}(r||(r={}));class c{constructor(t,e,s,n){this.key=t,this.value=e,this.type=s,this.description=n}static of(t,e,s,n="no description"){return new c(t,e,s,n)}}class u{constructor(t=new Map){this.params=t}static of(t){const e=new Map;return t.forEach((t=>{e.set(t.key,t)})),new u(e)}get(t,e){const s=this.params.get(t);return void 0===s?e:s.value}set(t,e){const s=this.params.get(t);void 0!==s&&(s.value=e)}}class d{constructor(t=[]){this.ops=t}generate(){if(this.ops.length<1)return[];let t=[];for(let e=0;e<this.ops.length;e++)t=this.ops[e].execute(t);return t}removeOpAt(t){this.ops.splice(t,1)}moveOpDown(t){t<this.ops.length-1&&this.swapOp(t,t+1)}swapOp(t,e){const s=this.ops[e];this.ops[e]=this.ops[t],this.ops[t]=s}moveOpUp(t){t>0&&this.swapOp(t,t-1)}append(t){this.ops.push(t)}}class p{constructor(s=new t,n=new e(500,500),i=[]){this.background=s,this.size=n,this.layers=i}addLayer(t){this.layers.push(t)}shapes(){return this.layers}}var f=function(t,e){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])},f(t,e)};function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function s(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}var g,v=function(){function t(){}return t._xfnv1a=function(t){for(var e=2166136261,s=0;s<t.length;s++)e=Math.imul(e^t.charCodeAt(s),16777619);return function(){return e+=e<<13,e^=e>>>7,e+=e<<3,e^=e>>>17,(e+=e<<5)>>>0}},t}(),x=function(t){function e(s){var n=t.call(this)||this;return n.a=e._xfnv1a(s)(),n}return m(e,t),e.prototype.next=function(){var t=this.a+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296},e}(v),y=function(t){function e(s){var n=t.call(this)||this,i=e._xfnv1a(s);return n.a=i(),n.b=i(),n.c=i(),n.d=i(),n}return m(e,t),e.prototype.next=function(){this.a>>>=0,this.b>>>=0,this.c>>>=0,this.d>>>=0;var t=this.a+this.b|0;return this.a=this.b^this.b>>>9,this.b=this.c+(this.c<<3)|0,this.c=this.c<<21|this.c>>>11,this.d=this.d+1|0,t=t+this.d|0,this.c=this.c+t|0,(t>>>0)/4294967296},e}(v),w=function(t){function e(s){var n=t.call(this)||this,i=e._xfnv1a(s);return n.a=i(),n.b=i(),n.c=i(),n.d=i(),n}return m(e,t),e.prototype.next=function(){var t=this.b<<9,e=5*this.a;return e=e<<7|9*(e>>>25),this.c^=this.a,this.d^=this.b,this.b^=this.c,this.a^=this.d,this.c^=t,this.d=this.d<<11|this.d>>>21,(e>>>0)/4294967296},e}(v);!function(t){t.sfc32="sfc32",t.mulberry32="mulberry32",t.xoshiro128ss="xoshiro128ss"}(g||(g={}));var P=function(){function t(t,e){void 0===e&&(e=g.sfc32),this.str=t,this.prng=e,this.generator=this._initializeGenerator()}return t.prototype.next=function(){return this.generator.next()},t.prototype._initializeGenerator=function(){if(function(t){return null===t}(t=this.str)||function(t){return void 0===t}(t))return this.wrap();var t;switch(this.prng){case"sfc32":return new y(this.str);case"mulberry32":return new x(this.str);case"xoshiro128ss":return new w(this.str);default:return this.wrap()}},t.prototype.wrap=function(){return{next:function(){return Math.random()}}},t}();class b{constructor(t,e=new P(t)){this.rand=e}uniform(t,e){return t+this.rand.next()*(e-t)}boxMullerTransform(){const t=this.rand.next(),e=this.rand.next();return{z0:Math.sqrt(-2*Math.log(t))*Math.cos(2*Math.PI*e),z1:Math.sqrt(-2*Math.log(t))*Math.sin(2*Math.PI*e)}}normal(t,e){const{z0:s}=this.boxMullerTransform();return s*e+t}}class _ extends l{constructor(){super(...arguments),this.seed="seed"}setParams(t){this.seed=t.get("seed","seed")}getParams(){return u.of([c.of("seed",this.seed,r.String)])}execute(e){const s=new b(this.seed);for(let n=0;n<e.length;n++){if(e[n].style.backgroundColor){const i=s.uniform(0,360);e[n].style.backgroundColor=t.hsl(i,1,.5)}if(e[n].style.strokeColor){const i=s.uniform(0,360);e[n].style.strokeColor=t.hsl(i,1,.5)}}return e}name(){return"RandomColor"}}class E extends l{constructor(){super(...arguments),this.start=new e(0,0),this.end=new e(100,100),this.divisions=10}getParams(){return u.of([c.of("start",this.start,r.Point),c.of("end",this.end,r.Point),c.of("divisions",this.divisions,r.Integer)])}setParams(t){this.start=t.get("start",new e(0,0)),this.end=t.get("end",new e(100,100)),this.divisions=t.get("divisions",10)}execute(t){return[new h(n.Line(this.start,this.end,this.divisions),o.Line())]}name(){return"StaticLine"}}class C extends l{constructor(){super(...arguments),this.divisions=10,this.direction=e.up(),this.length=100}getParams(){return u.of([c.of("divisions",this.divisions,r.Integer),c.of("direction",this.direction,r.Point),c.of("length",this.length,r.Float)])}setParams(t){this.divisions=t.get("divisions",10),this.length=t.get("length",100),this.direction=t.get("direction",e.up())}execute(t){const e=[];return t.forEach((t=>{t.polygon.points.forEach((t=>{const s=t.add(this.direction.mult(this.length));e.push(new h(n.Line(t,s,this.divisions),o.Line()))}))})),e}name(){return"Lines"}}class M extends l{constructor(){super(...arguments),this.radius=10,this.resolution=10}getParams(){return u.of([c.of("radius",this.radius,r.Float),c.of("resolution",this.resolution,r.Integer)])}setParams(t){this.radius=t.get("radius",10),this.resolution=t.get("resolution",10)}execute(t){const s=[];return t.forEach((t=>{t.polygon.points.forEach((t=>{s.push(new h(n.Circle(this.resolution).transform(this.radius,new e(t.x,t.y))))}))})),s}name(){return"Circles"}}var z=s(816);class k{toString(t){const e=[];t.layers.forEach((t=>e.push(this.convertLayer(t))));const s={size:t.size,background:t.background.hexRGB(),layers:e};return JSON.stringify(s,void 0,2)}convertOp(t){const e={};return t.getParams().params.forEach((t=>{e[t.key]=t.value})),{name:t.name(),params:e}}convertLayer(t){const e=[];return t.ops.forEach((t=>{e.push(this.convertOp(t))})),{ops:e}}fromString(t){const e=new p,s=JSON.parse(t);return this.parseDocument(e,s),e}parseDocument(s,n){const i=this.parsePoint(n.size);s.size=i||new e(500,500);const r=this.parseColor(n.background);s.background=r||new t(1,1,1,1),s.layers=this.parseLayer(n)}parseLayer(t){const e=[],s=t.layers;if(s)for(let t=0;t<s.length;t++){const n=s[t],i=new d,r=n.ops,o=[];for(let t=0;t<r.length;t++){const e=r[t],s=k.operationByName(e.name),n=e.params;if(s&&n){const t=s.getParams();for(const e of t.params.keys()){const s=n[e];void 0!==s&&t.set(e,s)}s.setParams(t),o.push(s)}}i.ops=o,e.push(i)}return e}static operationByName(t){if(!t)return null;for(let e=0;e<k.OPERATIONS.length;e++){const s=new k.OPERATIONS[e];if(s.name()==t)return s}return null}parseColor(e){return t.fromRGBHex(e)}parsePoint(t,s="x",n="y"){return t&&t[s]&&t[n]?new e(t[s],t[n]):null}}k.OPERATIONS=[class extends l{constructor(){super(...arguments),this.seed="seed",this.count=20,this.position=new e,this.dist=0,this.dist_deviation=50,this.angle_min=0,this.angle_max=2*Math.PI}getParams(){return u.of([c.of("count",this.count,r.Integer),c.of("seed",this.seed,r.String),c.of("dist",this.dist,r.Float),c.of("dist_deviation",this.dist_deviation,r.Float),c.of("angle_min",this.angle_min,r.Float),c.of("angle_max",this.angle_max,r.Float),c.of("position",this.position,r.Point)])}setParams(t){this.count=t.get("count",20),this.seed=t.get("seed","seed"),this.dist=t.get("dist",0),this.dist_deviation=t.get("dist_deviation",50),this.angle_min=t.get("angle_min",0),this.angle_max=t.get("angle_max",2*Math.PI),this.position=t.get("position",new e)}execute(t){const s=[],i=new b(this.seed);for(let t=0;t<this.count;t++){const t=i.uniform(this.angle_min,this.angle_max),r=i.normal(this.dist,this.dist_deviation),a=e.up().rotate(t).mult(r).add(this.position);s.push(new h(n.of([a]),o.Point()))}return s}name(){return"NormalDistPoints"}},_,class extends l{constructor(){super(...arguments),this.seed="seed",this.count=20,this.x_min=0,this.x_max=500,this.y_min=0,this.y_max=500}getParams(){return u.of([c.of("count",this.count,r.Integer),c.of("seed",this.seed,r.String),c.of("x_min",this.x_min,r.Float),c.of("x_max",this.x_max,r.Float),c.of("y_min",this.y_min,r.Float),c.of("y_max",this.y_max,r.Float)])}setParams(t){this.count=t.get("count",20),this.seed=t.get("seed","seed"),this.x_min=t.get("x_min",0),this.x_max=t.get("x_max",500),this.y_min=t.get("y_min",0),this.y_max=t.get("y_max",500)}execute(t){const s=[],i=new b(this.seed);for(let t=0;t<this.count;t++){const t=i.uniform(this.x_min,this.x_max),r=i.uniform(this.y_min,this.y_max);s.push(new h(n.Point(new e(t,r)),o.Point()))}return s}name(){return"RandomPoints"}},class extends l{constructor(){super(...arguments),this.size=10}getParams(){return u.of([c.of("size",this.size,r.Float)])}setParams(t){this.size=t.get("size",10)}execute(t){const s=[];return t.forEach((t=>{t.polygon.points.forEach((t=>{s.push(new h(n.Rect().transform(this.size,new e(t.x,t.y))))}))})),s}name(){return"Rects"}},class extends l{constructor(){super(...arguments),this.size=20,this.center=new e(0,0),this.resolution=20}getParams(){return u.of([c.of("size",this.size,r.Float),c.of("position",this.center,r.Point),c.of("resolution",this.resolution,r.Integer)])}setParams(t){this.size=t.get("size",20),this.center=t.get("position",new e(0,0)),this.resolution=t.get("resolution",20)}execute(t){return[new h(n.Circle(this.resolution).transform(this.size,this.center))]}name(){return"StaticCircle"}},E,class extends l{constructor(){super(...arguments),this.position=new e}getParams(){return u.of([c.of("position",this.position,r.Point)])}setParams(t){this.position=t.get("position",new e)}execute(t){return[new h(n.Point(this.position),o.Point())]}name(){return"StaticPoint"}},class extends l{constructor(){super(...arguments),this.size=10,this.position=new e}getParams(){return u.of([c.of("size",this.size,r.Float),c.of("position",this.position,r.Point)])}setParams(t){this.size=t.get("size",20),this.position=t.get("position",new e)}execute(t){return[new h(n.Rect().transform(this.size,this.position))]}name(){return"StaticRect"}},C,class extends l{constructor(){super(...arguments),this.position=new e(250,250),this.range=100,this.force=20,this.exp=4}getParams(){return u.of([c.of("position",this.position.x,r.Point),c.of("range",this.range,r.Float),c.of("force",this.force,r.Float),c.of("exp",this.exp,r.Float)])}setParams(t){this.position=t.get("position",new e(250,250)),this.range=t.get("range",100),this.force=t.get("force",20),this.exp=t.get("exp",4)}execute(t){for(let e=0;e<t.length;e++){const s=t[e].polygon.points;for(let t=0;t<s.length;t++){const e=s[t],n=e.sub(this.position).len(),i=e.sub(this.position).normalize();let r=0;n<this.range&&(r=this.force*Math.pow(1-n/this.range,this.exp));const o=e.add(i.mult(r));e.x=o.x,e.y=o.y}}return t}name(){return"StaticExplosion"}},M,class extends l{constructor(){super(...arguments),this.amount=2,this.seed="seed"}getParams(){return u.of([c.of("amount",this.amount,r.Float),c.of("seed",this.seed,r.String)])}setParams(t){this.amount=t.get("amount",2),this.seed=t.get("seed","seed")}execute(t){const s=new b(this.seed);for(let n=0;n<t.length;n++){const i=t[n].polygon.points;for(let t=0;t<i.length;t++){const n=i[t],r=s.uniform(0,this.amount),o=s.uniform(0,2*Math.PI),a=e.up().rotate(o).mult(r),h=n.add(a);n.x=h.x,n.y=h.y}}return t}name(){return"Jiggle"}},class extends l{constructor(){super(...arguments),this.step_count=100,this.step_size=3,this.seed=0,this.offset=new e,this.scale=.1}getParams(){return u.of([c.of("step_count",this.step_count,r.Integer),c.of("step_size",this.step_size,r.Float),c.of("seed",this.seed,r.Integer),c.of("offset",this.offset,r.Point),c.of("scale",this.scale,r.Float)])}setParams(t){this.step_count=t.get("step_count",100),this.step_size=t.get("step_size",3),this.seed=t.get("seed",0),this.offset=t.get("offset",new e),this.scale=t.get("scale",.1)}execute(t){const s=[],i=(0,z.DA)(this.seed);return t.forEach((t=>{t.polygon.points.forEach((t=>{let r=t.copy();const a=[r];for(let t=0;t<this.step_count;t++){const t=r.add(this.offset).mult(this.scale),s=2*i(t.x,t.y)*Math.PI,n=e.up().rotate(s).normalize().mult(this.step_size);r=r.add(n),a.push(r)}s.push(new h(n.of(a),o.Line()))}))})),s}name(){return"FlowFieldLines"}}];class L{constructor(){this.nextId=0,this.opNames=k.OPERATIONS.map((t=>(new t).name())).sort()}newId(){return this.nextId++,this.nextId}select(t,e){const s=document.createElement("select");null!=t&&s.classList.add(t);for(let t=0;t<e.length;t++){const n=e[t],i=document.createElement("option");i.value=n,i.innerHTML=n,s.appendChild(i)}return s}build(t,e){const s=this.div();return t.layers.forEach((t=>{const n=this.div(["layer-wrapper"]),i=this.div(["layer-name"]);i.innerText="Layer",n.appendChild(i);const o=this.div(["add-op-wrapper","clearfix"]),a=this.select("add-op-select",this.opNames),h=this.button(["op-btn","op-add"],"&#43;",(()=>{const s=a.selectedOptions[0].value;console.log(s);const n=k.operationByName(s);null!=n&&(t.append(n),e())}));o.appendChild(a),o.appendChild(h),n.appendChild(o);for(let s=0;s<t.ops.length;s++){const i=t.ops[s],o=this.div(["op-wrapper"]),a=this.div(["op-name"]);a.innerText=i.name(),o.appendChild(a),o.appendChild(this.button(["op-btn","op-remove"],"&#10005;",(()=>{confirm("Do you really want to delete "+i.name()+"?")&&(t.removeOpAt(s),e())}))),s>0&&o.appendChild(this.button(["op-btn","op-move-up"],"&#9651;",(()=>{t.moveOpUp(s),e()}))),s<t.ops.length-1&&o.appendChild(this.button(["op-btn","op-move-down"],"&#9661;",(()=>{t.moveOpDown(s),e()})));const h=i.getParams(),l=this.div(["params-wrapper","clearfix"]);l.style.display="block",o.appendChild(l),a.onclick=()=>{"block"==l.style.display?l.style.display="none":l.style.display="block"},h.params.forEach((t=>{const s=this.div(["param-wrapper"]);let n=null;t.type==r.Float?n=this.input(t.key,t.value,((s,n)=>{const r=parseFloat(s);n.value=r.toString(),h.set(t.key,r),i.setParams(h),e()})):t.type==r.Integer?n=this.input(t.key,t.value,((s,n)=>{const r=parseInt(s);n.value=r.toString(),h.set(t.key,r),i.setParams(h),e()})):t.type==r.String?n=this.input(t.key,t.value,((s,n)=>{n.value=s,h.set(t.key,s),i.setParams(h),e()})):t.type==r.Point&&(n=this.inputPoint(t.key,t.value,(s=>{h.set(t.key,s),i.setParams(h),e()}))),null!=n&&s.appendChild(n),l.appendChild(s)})),n.appendChild(o)}s.appendChild(n)})),s}input(t,e,s){const n=this.div();n.classList.add("clearfix");const i="input_"+this.newId(),r=document.createElement("label");r.classList.add("param-label"),r.innerText=t,r.htmlFor=i;const o=document.createElement("input");return o.classList.add("param-input"),o.type="text",o.id=i,o.value=e,o.onchange=()=>{s(o.value,o)},n.appendChild(r),n.appendChild(o),n}inputPoint(t,s,n){const i=this.div();i.classList.add("clearfix");const r=document.createElement("label");r.classList.add("param-label"),r.innerText=t;const o=document.createElement("input"),a=document.createElement("input");o.classList.add("param-input"),a.classList.add("param-input"),o.type="text",a.type="text",o.value=s.x.toString(),a.value=s.y.toString();const h=()=>{const t=parseFloat(o.value),s=parseFloat(a.value);o.value=t.toString(),a.value=s.toString(),n(new e(t,s))};return o.onchange=h,a.onchange=h,i.appendChild(r),i.appendChild(o),i.appendChild(a),i}div(t=null){const e=document.createElement("div");return null!=t&&null!=t&&t.forEach((t=>e.classList.add(t))),e}button(t,e,s){const n=document.createElement("button");return null!=t&&t.forEach((t=>n.classList.add(t))),n.onclick=s,n.innerHTML=e,n}}const S=new class{constructor(t){this.renderer=null,this.sdoc=null,this.uiContainer=null,this.canvasElem=null;const e=document.getElementById(t);null!=e&&(this.createRenderer(e),this.createUiContainer(e))}createUiContainer(t){this.uiContainer=document.createElement("div"),this.uiContainer.classList.add("creative-ui-container"),t.appendChild(this.uiContainer)}createRenderer(t){const e=document.createElement("div");e.classList.add("creative-canvas-wrapper"),this.canvasElem=document.createElement("canvas"),this.canvasElem&&(this.canvasElem.id="Canvas",this.canvasElem.className="creative-canvas",this.canvasElem.width=500,this.canvasElem.height=500,e.appendChild(this.canvasElem),t.appendChild(e),this.renderer=new a(this.canvasElem))}draw(){this.sdoc&&this.renderer&&this.renderer.render(this.sdoc)}displayDocument(t){t&&(this.sdoc=t,this.buildUi(),this.draw())}download(){if(!this.canvasElem)return;const t=document.createElement("a"),e=Number(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)).toString(16);t.setAttribute("download","Creative_"+e+".png");const s=this.canvasElem.toDataURL("image/png").replace(/^data:image\/png/,"data:application/octet-stream");t.setAttribute("href",s),t.click()}button(t,e){const s=document.createElement("button");return s.classList.add("btn"),s.classList.add("btn-primary"),s.onclick=()=>{e()},s.innerText=t,s}buildUi(){if(!this.uiContainer||!this.sdoc)return;this.uiContainer.textContent="";const t=document.createElement("div");t.classList.add("btn-group"),t.append(this.button("Update",(()=>{this.displayDocument(this.sdoc)}))),t.append(this.button("Download",(()=>{this.download()}))),this.uiContainer.appendChild(t);const e=(new L).build(this.sdoc,(()=>{this.displayDocument(this.sdoc)}));this.uiContainer.append(e);const s=document.createElement("textarea");s.style.width="500px",s.style.height="500px",s.value=(new k).toString(this.sdoc)}}("app"),I=new p,R=new E,O=R.getParams();O.set("start",new e(100,100)),O.set("end",new e(400,100)),R.setParams(O);const A=new C,F=A.getParams();F.set("length",300),A.setParams(F);const N=new d([R,A,new M,new _]);I.addLayer(N),S.displayDocument(I)})()})();